<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Task Queues &mdash; Toto 0.11.4 documentation</title>
    
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.11.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Toto 0.11.4 documentation" href="index.html" />
    <link rel="up" title="The Toto web server" href="web.html" />
    <link rel="next" title="Events" href="events.html" />
    <link rel="prev" title="Exceptions" href="exceptions.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="index.html">
          <span>Toto 0.11.4 documentation</span></a></h1>
        <h2 class="heading"><span>Task Queues</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="exceptions.html">Exceptions</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="events.html">Events</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="module-toto.tasks">
<span id="task-queues"></span><h1>Task Queues<a class="headerlink" href="#module-toto.tasks" title="Permalink to this headline">¶</a></h1>
<p>Toto provides build a built in task queue for performing work in the background
while limiting the number of active jobs. The task queue is designed primarily for
shorter, lightweight jobs. For CPU intensive tasks or tasks that are expected to
run for a long time, look at Toto&#8217;s worker functionality instead.</p>
<dl class="class">
<dt id="toto.tasks.TaskQueue">
<em class="property">class </em><tt class="descclassname">toto.tasks.</tt><tt class="descname">TaskQueue</tt><big>(</big><em>thread_count=1</em><big>)</big><a class="reference internal" href="_modules/toto/tasks.html#TaskQueue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toto.tasks.TaskQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>Instances will run up to <tt class="docutils literal"><span class="pre">thread_count</span></tt> tasks at a time
whenever there are tasks in the queue.</p>
</dd></dl>

<dl class="classmethod">
<dt id="toto.tasks.TaskQueue.instance">
<em class="property">classmethod </em><tt class="descclassname">TaskQueue.</tt><tt class="descname">instance</tt><big>(</big><em>name</em>, <em>thread_count=1</em><big>)</big><a class="reference internal" href="_modules/toto/tasks.html#TaskQueue.instance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toto.tasks.TaskQueue.instance" title="Permalink to this definition">¶</a></dt>
<dd><p>A convenience method for accessing shared instances of <tt class="docutils literal"><span class="pre">TaskQueue</span></tt>.
If <tt class="docutils literal"><span class="pre">name</span></tt> references an existing instance created with this method,
that instance will be returned. Otherwise, a new <tt class="docutils literal"><span class="pre">TaskQueue</span></tt> will be
instantiated with <tt class="docutils literal"><span class="pre">thread_count</span></tt> threads and stored under <tt class="docutils literal"><span class="pre">name</span></tt>.</p>
</dd></dl>

<div class="section" id="tasks">
<h2>Tasks<a class="headerlink" href="#tasks" title="Permalink to this headline">¶</a></h2>
<dl class="method">
<dt id="toto.tasks.TaskQueue.add_task">
<tt class="descclassname">TaskQueue.</tt><tt class="descname">add_task</tt><big>(</big><em>fn</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/toto/tasks.html#TaskQueue.add_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toto.tasks.TaskQueue.add_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the function <tt class="docutils literal"><span class="pre">fn</span></tt> to the queue to be invoked with
<tt class="docutils literal"><span class="pre">args</span></tt> and <tt class="docutils literal"><span class="pre">kwargs</span></tt> as arguments. If the <tt class="docutils literal"><span class="pre">TaskQueue</span></tt>
is not currently running, it will be started now.</p>
</dd></dl>

<dl class="method">
<dt id="toto.tasks.TaskQueue.run">
<tt class="descclassname">TaskQueue.</tt><tt class="descname">run</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/toto/tasks.html#TaskQueue.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toto.tasks.TaskQueue.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Start processing jobs in the queue. You should not need
to call this as <tt class="docutils literal"><span class="pre">add_task</span></tt> automatically starts the queue.
Processing threads will stop when there are no jobs available
in the queue.</p>
</dd></dl>

<dl class="method">
<dt id="toto.tasks.TaskQueue.__len__">
<tt class="descclassname">TaskQueue.</tt><tt class="descname">__len__</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/toto/tasks.html#TaskQueue.__len__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#toto.tasks.TaskQueue.__len__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of active threads plus the number of
queued tasks/</p>
</dd></dl>

</div>
</div>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="exceptions.html">Exceptions</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="events.html">Events</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2013, Jeremy Olmsted-Thompson.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.1.
    </div>
  </body>
</html>